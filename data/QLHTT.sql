USE QLHTT

GO
CREATE TABLE NhanVien (
    MaNV NVARCHAR(50) not null PRIMARY KEY,
    HoTen NVARCHAR(255),
    GioiTinh BIT,
    NgaySinh DATE,
    sdt VARCHAR(15),
    cccd VARCHAR(20),
    ChucVu NVARCHAR(50),
    NgayVaoLam DATE
);
go
CREATE TABLE TaiKhoan (
    TenTaiKhoan NVARCHAR(50) NOT NULL PRIMARY KEY,
    MatKhau NVARCHAR(255),
    MaNV NVARCHAR(50),
    FOREIGN KEY (MaNV) REFERENCES NhanVien(MaNV)
);
GO
CREATE TABLE Thuoc(
	MaThuoc NVARCHAR(50) NOT NULL PRIMARY KEY,
	TenThuoc NVARCHAR(255),
	SoLuong INT,
	Gia FLOAT ,
	DonVi NVARCHAR(50),
	LoaiThuoc NVARCHAR(50),
	DoTuoi NVARCHAR(50),
	NhaSanXuat NVARCHAR(50),
	NgaySanXuat DATE,
	NgayHetHan DATE,
	HinhAnh NVARCHAR(255),
);
GO
CREATE TABLE ChiTiet_Thuoc(
	MaThuoc NVARCHAR(50) NOT NULL,
	ChiDinh NVARCHAR(255),
	LieuDung NVARCHAR(255),
	BaoQuan NVARCHAR(255),
	DiaChiNSX NVARCHAR(255),
	MoTa NVARCHAR(255),
	FOREIGN KEY (MaThuoc) REFERENCES Thuoc(Mathuoc)
);
GO
ALTER TABLE ChiTiet_Thuoc ADD PRIMARY KEY (MaThuoc)
GO 
CREATE TABLE KhachHang(
	MaKH NVARCHAR(50),
	TenKH NVARCHAR(255),
	DoTuoi NVARCHAR(50),
	GioiTinh BIT,
	SDT varchar(11)
);
GO
ALTER TABLE KhachHang
ALTER COLUMN MaKH NVARCHAR(50) NOT NULL;
GO
ALTER TABLE KhachHang ADD PRIMARY KEY (MaKH);
GO
CREATE TABLE HoaDon(
	MaHD NVARCHAR(50) NOT NULL PRIMARY KEY,
	MaNV NVARCHAR(50),
	MaKH NVARCHAR(50),
	NgayTao date,
	MaTHuoc NVARCHAR(50),
	LuuY NVARCHAR(255),
	TongTien float,
	FOREIGN KEY (MaNV) REFERENCES NhanVien(MaNV),
	FOREIGN KEY (MaKH) REFERENCES KhachHang(MaKH),
	FOREIGN KEY (MaThuoc) REFERENCES Thuoc(MaThuoc)
);
